@using GameWeaver.Components.GameServer
@attribute [Route(AppRouteConstants.Index)]
@attribute [Authorize]

<MudPaper Elevation="5" Square="false" Class="@($"my-6 {_cssBase} {_cssThemedBorder}")" Style="opacity: 95%;">
    <MudItem xs="12" sm="12" md="12">
        <MudText Align="Align.Center" Typo="Typo.h5" Class="@(_cssThemedText)" Color="Color.Primary">
            Hello @_loggedInUser.Username! Welcome to @ServerState.ApplicationName!
        </MudText>
    </MudItem>
</MudPaper>

<SectionHeader Title="Favorite GameServers" Class="mb-0 mt-6 mx-6" Color="Color.Secondary" GamerMode="@_userPreferences.GamerMode"/>
<MudPaper Elevation="10" Square="false" Class="@($"mb-6 mx-6 {_cssBase} {_cssThemedBorder}")" Style="opacity: 80%;">
    @if (_favoriteGameServers.Count != 0)
    {
        <MudGrid Class="d-flex flex-row gap-2 py-2 px-4 justify-center" Justify="Justify.Center" Style="{width: 98%}">
            @foreach (var gameServer in _ownedGameServers)
            {
                <GameServerWidget GameServer="@gameServer" GamerMode="@_userPreferences.GamerMode"/>
            }
        </MudGrid>
    }
    else
    {
        <MudText Align="Align.Center" Typo="Typo.body1" Class="@($"py-2 px-4 {_cssThemedText}")">You don't currently have any favorite GameServers</MudText>
        <MudText Align="Align.Center" Typo="Typo.body1" Class="@($"py-2 px-4 {_cssThemedText}")">But I don't blame you, they're all pretty great</MudText>
    }
</MudPaper>

@if (_ownedHosts.Count != 0)
{
    <SectionHeader Title="Your Hosts" Class="mb-0 mt-6 mx-6" Color="Color.Secondary" GamerMode="@_userPreferences.GamerMode"/>
    <MudPaper Elevation="10" Square="false" Class="@($"mb-6 mx-6 {_cssBase} {_cssThemedBorder}")" Style="opacity: 80%;">
        <MudStack Row="false" Class="d-flex gap-3 mt-5">
            <MudGrid Class="d-flex flex-row gap-2 py-2 px-4 justify-center" Justify="Justify.Center" Style="{width: 98%}">
                @foreach (var gameServer in _ownedGameServers)
                {
                    <GameServerWidget GameServer="@gameServer" GamerMode="@_userPreferences.GamerMode"/>
                }
            </MudGrid>
        </MudStack>
    </MudPaper>
}

@if (_ownedGameServers.Count != 0)
{
    <SectionHeader Title="Your GameServers" Class="mb-0 mt-6 mx-6" Color="Color.Secondary" GamerMode="@_userPreferences.GamerMode"/>
    <MudPaper Elevation="10" Square="false" Class="@($"mb-6 mx-6 {_cssBase} {_cssThemedBorder}")" Style="opacity: 80%;">
        <MudStack Row="false" Class="d-flex gap-3 mt-5">
            <MudGrid Class="d-flex flex-row gap-2 pa-2 justify-center" Justify="Justify.Center" Style="{width: 98%}">
                @foreach (var gameServer in _ownedGameServers)
                {
                    <GameServerWidget GameServer="@gameServer" GamerMode="@_userPreferences.GamerMode"/>
                }
            </MudGrid>
        </MudStack>
    </MudPaper>
}
